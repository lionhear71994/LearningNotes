### 运行时数据区域  
##### 线程私有的：
* 程序计数器:指令顺序，跟随线程生命。  
* 虚拟机栈：跟随线程生命，方法数据由此传递，StackOverFlowError和OOM，栈帧。
* 本地方法栈：类似上，执行Native方法。
##### 线程共享的：
* 堆：绝大多数对象实例和数组。
* 方法区：类、常量、静态变量等数据。
* 运行时常量池：1.7之后存放在堆之内。基本数据类型值、字符串、final；全限定名、方法描述符、字段描述符。1.8后移至Heap内。
### 虚拟机对象  
##### 对象的创建
类加载检查->分配内存空间->初始化零值->设置对象头->执行init方法  
分配内存空间的两种方式“指针碰撞” “空闲列表”分别由Java堆是否规整决定，是否规整由GC收集器算法是“标记-清楚”还是“标记-整理”决定。  
TLAB和CAS是虚拟机保证线程安全的2种方式。  
### 对象的内存布局  
* 对象头:对象自身的运行时数据和类型指针。
* 实例数据:对象真正存储的有效信息。
* 对其填充:占位作用。
### 字符串常量池
```java
String s1 = "abc";   String s2 = new String("abc");
System.out.println(s1==s2);    //false
```
* new String创建于堆中
* 字符串拼接创建于字符串常量池


